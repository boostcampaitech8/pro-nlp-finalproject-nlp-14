# 차트 기본값 (helmfile에서 오버라이드됨)
# 이 파일은 helm lint용 스키마 정의

global:
  namespace: mit
  environment: development
  registry: "ghcr.io/teamatoi"

# 복제본 수
replicas:
  backend: 1
  frontend: 1
  arqWorker: 1

# 이미지 태그 설정 (CI에서 SHA 기반 태그 사용)
images:
  backend:
    tag: "latest"
  frontend:
    tag: "latest"
  worker:
    tag: "latest"
  pullSecret: "ghcr-secret"  # GHCR 인증용 시크릿

# 앱 포트
backend:
  port: 8000

frontend:
  port: 80

database:
  host: postgres-postgresql
  port: 5432
  name: mit
  user: mit
  password: ""

redis:
  host: redis-master
  port: 6379

livekit:
  host: livekit
  port: 7880
  apiKey: ""
  apiSecret: ""
  externalUrl: ""

neo4j:
  host: neo4j
  boltPort: 7687
  user: neo4j
  password: ""

jwt:
  secretKey: ""
  accessTokenExpireMinutes: 30
  refreshTokenExpireDays: 7

app:
  debug: false
  logLevel: INFO
  corsOrigins: []

worker:
  clovaSttEndpoint: ""
  # API 키 배열 (동적 할당용) - helmfile에서 오버라이드
  clovaSttSecrets: []
  backendApiKey: ""
  ttsServerUrl: ""

# NCP Clova Studio
ncp:
  clovaStudioApiKey: ""

# OAuth
oauth:
  google:
    clientId: ""
    clientSecret: ""
    redirectUri: ""
  naver:
    clientId: ""
    clientSecret: ""
    redirectUri: ""

ingress:
  className: ""
  host: ""
  tls: false
  certManager: false
  clusterIssuer: ""
  tlsSecretName: ""
  annotations: {}

# Cloudflare Tunnel (Grafana 접근용)
cloudflare:
  enabled: false
  tunnelToken: ""

resources:
  backend:
    requests: { memory: "256Mi", cpu: "100m" }
    limits: { memory: "512Mi", cpu: "500m" }
  frontend:
    requests: { memory: "64Mi", cpu: "50m" }
    limits: { memory: "128Mi", cpu: "200m" }
  worker:
    requests: { memory: "128Mi", cpu: "100m" }
    limits: { memory: "512Mi", cpu: "500m" }
  arqWorker:
    requests: { memory: "256Mi", cpu: "100m" }
    limits: { memory: "512Mi", cpu: "500m" }
