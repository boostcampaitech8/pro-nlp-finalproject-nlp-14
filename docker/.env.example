# ===================
# PostgreSQL
# ===================
POSTGRES_USER=mit
POSTGRES_PASSWORD=mitpassword
POSTGRES_DB=mit

# ===================
# Redis
# ===================
# (no additional config needed)

# ===================
# MinIO
# ===================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ===================
# Backend
# ===================
APP_ENV=production
DEBUG=false

# JWT (반드시 변경!)
# 생성: openssl rand -hex 32
JWT_SECRET_KEY=change-this-secret-key
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===================
# LiveKit (SFU)
# ===================
# API Key/Secret 생성: docker exec -it mit-livekit livekit-server generate-keys
LIVEKIT_API_KEY=APIxxxxxxxxxx
LIVEKIT_API_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# 클라이언트용 외부 WebSocket URL
LIVEKIT_EXTERNAL_URL=wss://www.mit-hub.com/livekit
# 서버 외부 IP (Docker 환경 필수 - 클라이언트가 접근 가능한 IP)
# 예: LIVEKIT_NODE_IP=123.45.67.89
LIVEKIT_NODE_IP=
# ===================
# TURN TLS 설정 (NAT/방화벽 환경 WebRTC 연결용)
# ===================
# TURN 서버 도메인 (Let's Encrypt 인증서 필요)
# 예: LIVEKIT_TURN_DOMAIN=turn.example.com
LIVEKIT_TURN_DOMAIN=
#
# TURN TLS 활성화 전 필수 작업:
# 1. DNS: turn.example.com -> 서버 IP A 레코드 추가
# 2. 인증서: sudo certbot certonly --standalone -d turn.example.com
# 3. 권한: sudo chmod 755 /etc/letsencrypt/{live,archive}
# 4. 포트: 방화벽에서 5349/TCP, 3478/UDP 개방
# 로그 레벨 (debug, info, warn, error)
LIVEKIT_LOG_LEVEL=info

# ===================
# STT (Speech-to-Text)
# ===================
# OpenAI API Key (필수 - https://platform.openai.com/api-keys)
OPENAI_API_KEY=
# STT 제공자: openai, local, self_hosted
STT_PROVIDER=openai
# ARQ Worker용 Redis URL (기본 Redis와 다른 DB 사용 권장)
ARQ_REDIS_URL=redis://redis:6379/1

# ===================
# Frontend
# ===================
FRONTEND_PORT=3000
# 개발 모드 (true: 콘솔 로그 출력, false: 로그 비활성화)
VITE_DEV_MODE=false

# ===================
# Domain (프로덕션)
# ===================
# DOMAIN=snsn.kr
