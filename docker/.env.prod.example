# OpenAI API Key (필수 - https://platform.openai.com/api-keys)
OPENAI_API_KEY=

# Clova Speech STT Secret (필수 - Naver Cloud Console)
CLOVA_STT_SECRET=

# JWT Secret (필수 - 생성: openssl rand -hex 32)
JWT_SECRET_KEY=

# LiveKit API Key/Secret
# 생성 방법: 임시값으로 시작 → docker exec -it mit-livekit livekit-server generate-keys
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=

# 서버 외부 IP (프로덕션 서버 공인 IP)
LIVEKIT_NODE_IP=

# PostgreSQL 인증
POSTGRES_USER=mit
POSTGRES_PASSWORD=

# MinIO 인증
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=

# Backend API Key (선택적 - worker 인증용)
BACKEND_API_KEY=

# ===================
# PostgreSQL
# ===================
POSTGRES_DB=mit

# ===================
# Redis
# ===================
# (no additional config needed)

# ===================
# MinIO
# ===================
# (인증 정보는 상단 민감 정보 섹션 참조)

# ===================
# Backend
# ===================
APP_ENV=production
DEBUG=false

# JWT
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===================
# LiveKit (SFU)
# ===================
# 클라이언트용 외부 WebSocket URL
LIVEKIT_EXTERNAL_URL=wss://www.mit-hub.com/livekit
LIVEKIT_USE_EXTERNAL_IP=true
# TURN 인증서 마운트 경로 (프로덕션: /etc/letsencrypt)
LIVEKIT_CERTS_PATH=/etc/letsencrypt
# ===================
# TURN TLS 설정 (NAT/방화벽 환경 WebRTC 연결용)
# ===================
# TURN 서버 도메인 (프로덕션 WebRTC TURN 서버)
LIVEKIT_TURN_DOMAIN=turn.mit-hub.com
LIVEKIT_TURN_ENABLED=true
LIVEKIT_TURN_CERT_FILE=/etc/letsencrypt/live/www.mit-hub.com/fullchain.pem
LIVEKIT_TURN_KEY_FILE=/etc/letsencrypt/live/www.mit-hub.com/privkey.pem
#
# TURN TLS 활성화 전 필수 작업:
# 1. DNS: turn.example.com -> 서버 IP A 레코드 추가
# 2. 인증서: sudo certbot certonly --standalone -d turn.example.com
# 3. 권한: sudo chmod 755 /etc/letsencrypt/{live,archive}
# 4. 포트: 방화벽에서 5349/TCP, 3478/UDP 개방
# 로그 레벨 (debug, info, warn, error)
LIVEKIT_LOG_LEVEL=info

# ===================
# Realtime Worker
# ===================
# LiveKit 내부 WebSocket URL
LIVEKIT_WS_URL=ws://livekit:7880
# Clova Speech STT
CLOVA_STT_ENDPOINT=clovaspeech-gw.ncloud.com:50051
# Backend API
BACKEND_API_URL=http://backend:8000
# Worker 로그 레벨
LOG_LEVEL=INFO

# ===================
# STT (Speech-to-Text)
# ===================
# STT 제공자: openai, local, self_hosted
STT_PROVIDER=openai
# ARQ Worker용 Redis URL (기본 Redis와 다른 DB 사용 권장)
ARQ_REDIS_URL=redis://redis:6379/1

# ===================
# Frontend
# ===================
FRONTEND_PORT=3000
# 개발 모드 (true: 콘솔 로그 출력, false: 로그 비활성화)
VITE_DEV_MODE=false

# ===================
# Domain (프로덕션)
# ===================
# DOMAIN=snsn.kr
