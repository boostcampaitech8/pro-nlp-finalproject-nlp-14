components:
  schemas:
    RecordingStatus:
      type: string
      enum:
        - recording
        - completed
        - failed
      description: 녹음 상태

    Recording:
      type: object
      required:
        - id
        - meetingId
        - userId
        - status
        - startedAt
        - createdAt
      properties:
        id:
          $ref: './common.yaml#/components/schemas/UUID'
        meetingId:
          $ref: './common.yaml#/components/schemas/UUID'
        userId:
          $ref: './common.yaml#/components/schemas/UUID'
        userName:
          type: string
          nullable: true
        status:
          $ref: '#/components/schemas/RecordingStatus'
        startedAt:
          $ref: './common.yaml#/components/schemas/Timestamp'
        endedAt:
          type: string
          format: date-time
          nullable: true
        durationMs:
          type: integer
          nullable: true
          description: 녹음 길이 (밀리초)
        fileSizeBytes:
          type: integer
          nullable: true
          description: 파일 크기 (바이트)
        createdAt:
          $ref: './common.yaml#/components/schemas/Timestamp'

    RecordingListResponse:
      type: object
      required:
        - items
        - meta
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Recording'
        meta:
          $ref: './common.yaml#/components/schemas/PaginationMeta'

    RecordingDownloadResponse:
      type: object
      required:
        - recordingId
        - downloadUrl
        - expiresInSeconds
      properties:
        recordingId:
          $ref: './common.yaml#/components/schemas/UUID'
        downloadUrl:
          type: string
          format: uri
          description: Presigned URL for downloading
        expiresInSeconds:
          type: integer
          default: 3600
          description: URL 만료 시간 (초)
