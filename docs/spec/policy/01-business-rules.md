# MIT 비즈니스 규칙 (Business Rules)

## 범위

이 문서는 변경 가능한 운영 정책을 정의한다.
시스템 수준의 불변식/제약 조건은 `domain/03-domain-rules.md`를 참조한다.

---

## 회의 진행 규칙

### BR-001: 회의 중 PR/Merge 금지

- **규칙**: 회의 진행 중에는 PR 생성 및 merge를 권장하지 않음
- **상태**: 권장 (시스템 강제 아님)
- **강제 수준**: 경고 표시 / 설정으로 차단 가능
- **예외**: 긴급 수정 필요 시 회의 참여자 전원 동의
- **근거**: 회의 중 합의가 완료되지 않은 상태에서 GT 업데이트 방지
- **변경이력**: 2026-01-20 합의

### BR-002: 수동 브랜치 생성

- **규칙**: 회의 없이도 수동으로 브랜치를 열 수 있음
- **조건**: Agent와 대화를 통해 업데이트될 회의록 조정 후 PR 오픈
- **용도**: 회의 없이 GT 수정이 필요한 경우 (오류 수정, 보완 등)
- **변경이력**: 2026-01-20 합의

### BR-003: 브랜치 폐기 정책

- **규칙**: 회의 종료 시 브랜치는 사용자 관점에서 폐기
- **내부 처리**: 데이터 수집 목적으로 내부적 유지 (soft delete)
- **보존 기간**: [TBD] - 설정 가능
- **변경이력**: 2026-01-20 합의

---

## 컨텍스트 관리 규칙

### BR-004: Agent 컨텍스트 범위

- **규칙**: 회의 참여 Agent는 모든 "Public한 메시지(음성/채팅)"만 컨텍스트로 가짐
- **세부사항**:
  - Public 음성: 회의 중 모든 발화 (STT 결과)
  - Public 채팅: 회의 채팅방의 모든 메시지
- **제외**: 개인 AI assistant와의 private 대화
- **변경이력**: 2026-01-19 합의

### BR-005: 개인 Assistant 컨텍스트 범위

- **규칙**: 개인 AI assistant는 Public 메시지 + 해당 사용자의 Private 대화 + Tool 호출 결과를 컨텍스트로 가짐
- **세부사항**:
  - Public 메시지: BR-004와 동일
  - Private 대화: 해당 사용자가 assistant에게 보낸/받은 메시지
  - Tool 호출 결과: assistant가 사용자를 위해 호출한 도구 결과
- **변경이력**: 2026-01-19 합의

### BR-006: 미병합 PR 컨텍스트 [TBD]

- **상태**: 논의 필요
- **문제**: 미병합 PR이 있는 상태에서 새 회의 시작 시 컨텍스트를 GT만 사용할지, GT+PR을 선택적으로 포함할지
- **제안 옵션**:
  1. GT만 사용 (기본값)
  2. GT + 특정 PR 선택적 포함
  3. GT + 모든 미병합 PR 포함
- **결정 필요**: 팀 논의 후 확정

---

## 동시 호출 정책

### BR-007: Agent 동시 호출 처리 [TBD]

- **상태**: 논의 필요
- **상황**: 여러 사용자가 동시에 Agent에게 요청
- **현재 제안**:
  - 보이스 호출: 현재 시퀀스 중단 + 새 요청 컨텍스트 추가
  - 채팅 호출: 병렬 처리
- **결정 필요**: 팀 논의 후 확정

### BR-008: Agent 응답 중 추가 요청 [TBD]

- **상태**: 논의 필요
- **상황**: Agent가 응답 중인데 사용자가 추가 요청
- **현재 제안**: 현재 시퀀스 중단 후 컨텍스트에 추가
- **결정 필요**: 팀 논의 후 확정

---

## PR 리뷰 규칙

### BR-009: 자동 리뷰어 지정 [TBD]

- **규칙**: PR 생성 시 자동으로 리뷰어 지정
- **기준**: [TBD] - 관련 팀원 식별 로직
- **제안 옵션**:
  1. 회의 참여자 전원
  2. 회의 참여자 중 host 제외
  3. 관련 결정사항에 이전에 참여한 팀원
- **결정 필요**: 팀 논의 후 확정

### BR-010: 필수 승인 수

- **규칙**: PR merge에 필요한 최소 approval 수
- **기본값**: 1
- **설정 가능**: 팀별 설정 가능 [TBD]
- **범위**: 1 ~ 참여자 수

---

## 데이터 보존 규칙

### BR-011: Transcript 보존

- **규칙**: 회의 transcript는 영구 보존
- **근거**: 결정사항의 근거 자료로 활용
- **삭제**: 팀 삭제 시에만 삭제 (cascade)

### BR-012: Recording 보존

- **규칙**: 회의 녹음 파일 보존 기간
- **기본값**: [TBD] - 90일 / 영구 / 팀별 설정
- **스토리지**: MinIO (S3 호환)

### BR-013: PR 이력 보존

- **규칙**: PR 및 리뷰 코멘트는 영구 보존
- **근거**: GT 변경 이력의 무결성 보장

---

## 가시성 옵션

### BR-014: Agent 작업 결과 가시성

- **규칙**: 채팅으로 Agent를 호출할 경우 작업 결과의 가시성 옵션 제공
- **옵션**:
  - Public: 다른 참여자에게도 보임
  - Private: 요청자에게만 보임 (기본값)
- **변경이력**: 2026-01-19 논의

---

## 참조

- 도메인 규칙: [domain/03-domain-rules.md](../domain/03-domain-rules.md)
- 권한 정책: [policy/02-access-policy.md](02-access-policy.md)
